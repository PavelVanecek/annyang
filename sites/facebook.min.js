//! annyang
//! version : 1.1.0
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
(function(a){"use strict";var b=this,c=b.SpeechRecognition||b.webkitSpeechRecognition||b.mozSpeechRecognition||b.msSpeechRecognition||b.oSpeechRecognition;if(!c)return b.annyang=null,a;var d,e,f=[],g={start:[],error:[],end:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},h=!1,i=0,j=!1,k="font-weight: bold; color: #00f;",l=/\s*\((.*?)\)\s*/g,m=/(\(\?:[^)]+\))\?/g,n=/(\(\?)?:\w+/g,o=/\*\w+/g,p=/[\-{}\[\]+?.,\\\^$|#]/g,q=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)?a:(a=a.replace(p,"\\$&").replace(l,"(?:$1)?").replace(n,function(a,b){return b?a:"([^\\s]+)"}).replace(o,"(.*?)").replace(m,"\\s*$1?\\s*"),new RegExp("^"+a+"$","i"))},r=function(a){a.forEach(function(a){a.callback.apply(a.context)})},s=function(){t()||b.annyang.init({},!1)},t=function(){return d!==a};b.annyang={init:function(l,m){m=m===a?!0:!!m,d&&d.abort&&d.abort(),d=new c,d.maxAlternatives=5,d.continuous=!0,d.lang="en-US",d.interimResults=!1,d.onstart=function(){r(g.start)},d.onerror=function(a){switch(r(g.error),a.error){case"network":r(g.errorNetwork);break;case"not-allowed":case"service-not-allowed":e=!1,r((new Date).getTime()-i<200?g.errorPermissionBlocked:g.errorPermissionDenied)}},d.onend=function(){if(r(g.end),e){var a=(new Date).getTime()-i;1e3>a?setTimeout(b.annyang.start,1e3-a):b.annyang.start()}},d.onresult=function(a){r(g.result);for(var c,d,e,i=a.results[a.resultIndex],l=0;l<i.length;l++){c=i[l].transcript.trim(),d=i[l].confidence,e=i.isFinal,j&&b.console.log("Speech recognized: %c"+c,k,"with confidence",d,"(isFinal: "+e+")");for(var m=0,n=f.length;n>m;m++){var o=f[m].command.exec(c);if(o){var p,q=o.slice(1);if(j&&(b.console.log("command matched: %c"+f[m].originalPhrase,k),q.length&&b.console.log("with parameters",q),q.push(e)),f[m].callback.apply(this,q),p=r(g.resultMatch),h===!1||p===!1)return!0}}}return r(g.resultNoMatch),!1},m&&(f=[]),l.length&&this.addCommands(l)},start:function(b){s(),b=b||{},e=b.autoRestart!==a?!!b.autoRestart:!0,i=(new Date).getTime(),d.start()},abort:function(){e=!1,t&&d.abort()},debug:function(a){j=arguments.length>0?!!a:!0},setLanguage:function(a){s(),d.lang=a},addCommand:function(a,b){s(),f.push({command:q(a),callback:b,originalPhrase:a})},setInterimResults:function(a){d.interimResults="undefined"==typeof a?!0:!!a},allowMultipleCallbacks:function(a){a="undefined"==typeof a?!0:!!a},setMaxAlternatives:function(a){if(isNaN(a)||1>a)throw new Error("please provide number >= 1");d.maxAlternatives=a},addCommands:function(a){var c,d;s();for(var e in a)if(a.hasOwnProperty(e)){if(c=b[a[e]]||a[e],"function"!=typeof c)continue;d=q(e),f.push({command:d,callback:c,originalPhrase:e})}j&&b.console.log("Commands successfully loaded: %c"+f.length,k)},removeCommands:function(b){return b===a?void(f=[]):(b=Array.isArray(b)?b:[b],void(f=f.filter(function(a){for(var c=0;c<b.length;c++)if(b[c]===a.originalPhrase)return!1;return!0})))},addCallback:function(c,d,e){if(g[c]!==a){var f=b[d]||d;"function"==typeof f&&g[c].push({callback:f,context:e||this})}}}}).call(this),//! annyang - facebook.com
//! version : 0.1.0
//! author  : Tal Ater @TalAter
//! license : MIT
//! https://www.TalAter.com/annyang/
function(){"use strict";var a=this;if(annyang){var b=function(){a.Chat.toggleSidebar()},c=function(){a.ChatVisibility.goOnline()},d=function(){a.ChatVisibility.goOffline()},e=function(b){a.goURI("/search/more/?q="+b)},f=function(b){a.goURI("/"+b.replace(/[^\w]/gi,""))},g=function(){a.goURI("/")},h=function(){a.goURI("/appcenter")},i=function(){a.goURI("/messages")},j=function(){a.goURI("/friends/requests")},k=function(){a.goURI("/friends")},l=function(){a.goURI("/me")},m=function(){a.goURI("/events/list")},n=function(){a.goURI("/events/calendar")},o=function(b){a.goURI("/"+(b||"me").replace(/[^\w]/gi,"")+"/photos")},p=function(b){a.goURI("/"+(b||"me").replace(/[^\w]/gi,"")+"/photos_albums")},q=function(){history.back()},r=function(a){"up"===a?window.scrollBy(0,-(window.innerHeight-$("pageHead").offsetHeight)):window.scrollBy(0,window.innerHeight-$("pageHead").offsetHeight)};annyang.addCommands({back:q,"go back":q,"go home":g,home:g,news:g,profile:l,me:l,games:h,apps:h,messages:i,inbox:i,mail:i,email:i,events:m,calendar:n,photos:o,"photos *page":o,albums:p,"albums *page":p,"friend requests":j,friends:k,chat:b,"chat online":c,"go online":c,"chat offline":d,"go offline":d,scroll:r,"scroll :direction":r,"find *term":e,"search for *term":e,"search *term":e,"go to *page":f,"go *page":f}),annyang.start()}}.call(this);